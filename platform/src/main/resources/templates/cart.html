<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>æˆ‘çš„è´­ç‰©è½¦ - æ¸¸å…‰é˜</title>
  <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
  <style>
    body { background-color: #121212; color: #e0e0e0; }
    .cart-container { background-color: #1e1e1e; padding: 30px; border-radius: 12px; margin-top: 30px; min-height: 500px;}
    .table { color: #e0e0e0; }
    .table thead { background-color: #2c2c2c; }
    /* å°é¢å›¾æ ·å¼ */
    .cart-img { width: 120px; height: 68px; object-fit: cover; border-radius: 4px; background-color: #333; }
    .text-warning { color: #ffc107 !important; }
  </style>
</head>
<body>

<nav class="navbar navbar-dark bg-black border-bottom border-secondary">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/">ğŸ’¿ æ¸¸å…‰é˜</a>
    <a href="/" class="btn btn-outline-light btn-sm">ç»§ç»­è´­ç‰©</a>
  </div>
</nav>

<div class="container cart-container">
  <h3 class="mb-4 text-warning">ğŸ›’ è´­ç‰©è½¦</h3>

  <div th:if="${cartItems != null and !cartItems.isEmpty()}">
    <table class="table table-hover align-middle">
      <thead>
      <tr>
        <th scope="col" width="15%">å°é¢</th>
        <th scope="col" width="30%">æ¸¸æˆåç§°</th>
        <th scope="col" width="15%">å•ä»·</th>
        <th scope="col" width="10%" class="text-center">æ•°é‡</th>
        <th scope="col" width="15%">å°è®¡</th>
        <th scope="col" width="15%">æ“ä½œ</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="item : ${cartItems}">
        <td>
          <img th:src="${item.platform}" class="cart-img" alt="å°é¢" onerror="this.src='https://via.placeholder.com/120x68?text=No+Img'">
        </td>

        <td>
          <h6 class="mb-0" th:text="${item.productName}">æ¸¸æˆå</h6>
        </td>

        <td>ï¿¥<span th:text="${item.price}">0</span></td>

        <td class="text-center">1</td>

        <td class="text-warning fw-bold">ï¿¥<span th:text="${item.price}">0</span></td>

        <td>
          <a th:href="@{'/cart/remove?id='+${item.cartItemId}}" class="btn btn-sm btn-outline-danger">ç§»é™¤</a>
        </td>
      </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-end align-items-center mt-5 gap-4">
      <h4 class="mb-0">æ€»è®¡: <span class="text-warning display-6">ï¿¥<span th:text="${totalAmount}">0</span></span></h4>
      <a href="/order/confirm" class="btn btn-lg btn-danger px-5">å»ç»“ç®—</a>
    </div>
  </div>

  <div th:if="${cartItems == null or cartItems.isEmpty()}" class="text-center py-5">
    <h4 class="text-muted">è´­ç‰©è½¦æ˜¯ç©ºçš„ï¼Œå»æŒ‘ä¸¤å¼ ç›˜å§ï¼</h4>
    <a href="/" class="btn btn-primary mt-3">å»é€›é€›</a>
  </div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>