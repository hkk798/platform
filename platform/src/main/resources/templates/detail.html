<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>商品详情 - 游光阁</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #121212; color: #e0e0e0; }
    .detail-box { background-color: #1e1e1e; padding: 40px; border-radius: 12px; margin-top: 30px; }
  </style>
</head>
<body>

<nav class="navbar navbar-dark bg-black mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">← 返回首页</a>
  </div>
</nav>

<div class="container detail-box">
  <div class="row">
    <div class="col-md-5">
      <div class="bg-secondary d-flex align-items-center justify-content-center text-dark" style="height: 400px; border-radius: 8px;">
        <h2>封面占位</h2>
      </div>
    </div>

    <div class="col-md-7">
      <h1 class="display-5 fw-bold text-info" th:text="${product.prodName}">游戏名称</h1>
      <p class="lead mt-3" th:text="${product.description}">游戏详细描述...</p>

      <hr class="border-secondary">

      <div class="row mb-3">
        <div class="col-6"><strong>平台：</strong> <span th:text="${product.platform}">PS5</span></div>
        <div class="col-6"><strong>类型：</strong> <span th:text="${product.genre}">RPG</span></div>
        <div class="col-6 mt-2"><strong>发行商：</strong> <span th:text="${product.publisher}">Sony</span></div>
        <div class="col-6 mt-2"><strong>库存：</strong> <span class="text-success" th:text="${product.stock}">99</span></div>
      </div>

      <h2 class="text-warning my-4">￥<span th:text="${product.price}">399.00</span></h2>

      <form action="/product/buy" method="post" class="d-flex align-items-center gap-3">
        <input type="hidden" name="productId" th:value="${product.productId}">

        <div class="input-group" style="width: 150px;">
          <span class="input-group-text bg-dark text-light border-secondary">数量</span>
          <input type="number" name="quantity" class="form-control bg-dark text-light border-secondary" value="1" min="1" th:max="${product.stock}">
        </div>

        <button type="submit" class="btn btn-lg btn-danger px-5" th:disabled="${product.stock <= 0}">
          <span th:if="${product.stock > 0}">立即购买</span>
          <span th:if="${product.stock <= 0}">缺货中</span>
        </button>
      </form>
    </div>
  </div>
</div>

</body>
</html>