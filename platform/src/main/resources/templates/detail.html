<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>å•†å“è¯¦æƒ… - æ¸¸å…‰é˜</title>
  <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
  <style>
    body { background-color: #121212; color: #e0e0e0; }
    .detail-box { background-color: #1e1e1e; padding: 40px; border-radius: 12px; margin-top: 30px; }
  </style>
</head>
<body>

<nav class="navbar navbar-dark bg-black mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">â† è¿”å›é¦–é¡µ</a>
  </div>
</nav>

<div class="container detail-box">
  <div class="row">
    <div class="col-md-5">
      <img th:if="${product.headerImage != null}" th:src="${product.headerImage}"
           class="img-fluid rounded shadow" style="width: 100%; object-fit: cover;" alt="æ¸¸æˆå°é¢">

      <div th:if="${product.headerImage == null}" class="bg-secondary d-flex align-items-center justify-content-center text-dark" style="height: 400px; border-radius: 8px;">
        <h2>æš‚æ— å°é¢</h2>
      </div>
    </div>

    <div class="col-md-7">
      <h1 class="display-5 fw-bold text-info" th:text="${product.name}">æ¸¸æˆåç§°</h1>

      <p class="lead mt-3" th:text="${product.shortDescription}">æ¸¸æˆè¯¦ç»†æè¿°...</p>

      <hr class="border-secondary">

      <div class="row mb-3">
        <div class="col-6"><strong>å¼€å‘å•†ï¼š</strong> <span th:text="${product.developers}">Valve</span></div>

        <div class="col-6"><strong>ç±»å‹ï¼š</strong> <span th:text="${product.genres}">RPG</span></div>

        <div class="col-6 mt-2"><strong>å‘è¡Œå•†ï¼š</strong> <span th:text="${product.publishers}">Sony</span></div>

        <div class="col-6 mt-2"><strong>åº“å­˜ï¼š</strong> <span class="text-success" th:text="${product.stock}">99</span></div>
      </div>

      <h2 class="text-warning my-4">ï¿¥<span th:text="${product.price}">399.00</span></h2>

      <form action="/cart/add" method="post" class="d-flex align-items-center gap-3">
        <input type="hidden" name="productId" th:value="${product.productId}">

        <div class="input-group" style="width: 150px;">
          <span class="input-group-text bg-dark text-light border-secondary">æ•°é‡</span>
          <input type="number" name="quantity" class="form-control bg-dark text-light border-secondary"
                 value="1" min="1" th:max="${product.stock}"
                 required>
        </div>

        <button type="submit" class="btn btn-lg btn-warning px-5" th:disabled="${product.stock <= 0}">
          <span th:if="${product.stock > 0}">ğŸ›’ åŠ å…¥è´­ç‰©è½¦</span>
          <span th:if="${product.stock <= 0}">ç¼ºè´§ä¸­</span>
        </button>
      </form>
    </div>
  </div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>